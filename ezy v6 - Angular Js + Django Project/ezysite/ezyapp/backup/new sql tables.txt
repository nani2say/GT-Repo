
E:\ezytest\ezysite>python manage.py sqlall ezyapp
BEGIN;
CREATE TABLE `ezyapp_option` (
    `id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY,
    `option_text` varchar(400) NOT NULL,
    `option_num` integer NOT NULL
)
;
CREATE TABLE `ezyapp_question_options` (
    `id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY,
    `question_id` integer NOT NULL,
    `option_id` integer NOT NULL,
    UNIQUE (`question_id`, `option_id`)
)
;
ALTER TABLE `ezyapp_question_options` ADD CONSTRAINT `option_id_refs_id_c52f4dd5
` FOREIGN KEY (`option_id`) REFERENCES `ezyapp_option` (`id`);
CREATE TABLE `ezyapp_question` (
    `id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY,
    `qtn_text` longtext NOT NULL,
    `qtn_type` integer NOT NULL,
    `answer_option` integer NOT NULL,
    `answer_text` varchar(200) NOT NULL
)
;
ALTER TABLE `ezyapp_question_options` ADD CONSTRAINT `question_id_refs_id_8fcced
5e` FOREIGN KEY (`question_id`) REFERENCES `ezyapp_question` (`id`);
CREATE TABLE `ezyapp_subsection_questions` (
    `id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY,
    `subsection_id` integer NOT NULL,
    `question_id` integer NOT NULL,
    UNIQUE (`subsection_id`, `question_id`)
)
;
ALTER TABLE `ezyapp_subsection_questions` ADD CONSTRAINT `question_id_refs_id_bc
53ce09` FOREIGN KEY (`question_id`) REFERENCES `ezyapp_question` (`id`);
CREATE TABLE `ezyapp_subsection` (
    `id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY,
    `label` varchar(200) NOT NULL,
    `description` longtext NOT NULL,
    `subsection_type` integer NOT NULL,
    `timer` time NOT NULL
)
;
ALTER TABLE `ezyapp_subsection_questions` ADD CONSTRAINT `subsection_id_refs_id_
d8c27e57` FOREIGN KEY (`subsection_id`) REFERENCES `ezyapp_subsection` (`id`);
CREATE TABLE `ezyapp_paper_subsections` (
    `id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY,
    `paper_id` integer NOT NULL,
    `subsection_id` integer NOT NULL,
    UNIQUE (`paper_id`, `subsection_id`)
)
;
ALTER TABLE `ezyapp_paper_subsections` ADD CONSTRAINT `subsection_id_refs_id_f32
f717c` FOREIGN KEY (`subsection_id`) REFERENCES `ezyapp_subsection` (`id`);
CREATE TABLE `ezyapp_paper` (
    `id` integer AUTO_INCREMENT NOT NULL PRIMARY KEY,
    `label` varchar(200) NOT NULL,
    `instructions` longtext NOT NULL,
    `paper_type` integer NOT NULL
)
;
ALTER TABLE `ezyapp_paper_subsections` ADD CONSTRAINT `paper_id_refs_id_3ae0c347
` FOREIGN KEY (`paper_id`) REFERENCES `ezyapp_paper` (`id`);
CREATE INDEX `ezyapp_question_options_25110688` ON `ezyapp_question_options` (`q
uestion_id`);
CREATE INDEX `ezyapp_question_options_9c74a4f3` ON `ezyapp_question_options` (`o
ption_id`);
CREATE INDEX `ezyapp_subsection_questions_73281a03` ON `ezyapp_subsection_questi
ons` (`subsection_id`);
CREATE INDEX `ezyapp_subsection_questions_25110688` ON `ezyapp_subsection_questi
ons` (`question_id`);
CREATE INDEX `ezyapp_paper_subsections_630dbf68` ON `ezyapp_paper_subsections` (
`paper_id`);
CREATE INDEX `ezyapp_paper_subsections_73281a03` ON `ezyapp_paper_subsections` (
`subsection_id`);

COMMIT;